<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-title">

<!-- Insert Title -->
<title>Page 3</title> 

<!-- Common Stylesheets -->
<link rel="stylesheet" type="text/css" href="../common/css/common.css" />
<link rel="stylesheet" type="text/css" href="../css/index.css" />

<!-- Page Specific Stylesheets -->
<style type="text/css" >
    .slide{
        background:url('../img/p3.png') no-repeat;
    }


    /************************
        TYPE 1
    ************************/

    #feature.t1{
    	position: absolute;
    	top: auto;
    	bottom: 0px;
    	left:0px;
    }

    #feature.t1{
    	width: 100%;
    	position: absolute;
    	top: auto;
    	bottom: -2px;
    	left:0px;
    }

    #feature.t1 > li{
    	top:auto;
    	position: absolute;
    	background:url("../img/hills.png") no-repeat;
    	background-size: 1024px auto;
    }

    #feature.t1 > li:last-child{
    	width: 42px;
	    height: 42px;
	    bottom: 250px;
	    left: 490px;
	    background-position: -80px -814px;
	    border-radius: 100%;
	    
	    -webkit-box-shadow: 0px 0px 100px 20px #ccc;
		box-shadow:         0px 0px 100px 20px #ccc;
    }

    #feature.t1 > li:nth-child(9){
    	width: 1024px;
    	height: 49px;
    	bottom:0px;
    	left:0px;
    }

     #feature.t1 > li:nth-child(8){
    	width: 930px;
	    height: 100px;
	    bottom: 9px;
	    left: 90px;
	    background-position: -0px -255px;
    }

    #feature.t1 > li:nth-child(7){
    	width:470px;
    	height: 140px;
    	bottom: 39px;
    	left: 0px;
    	background-position: 0px -73px;
    }

    #feature.t1 > li:nth-child(6){
    	width: 430px;
    	height: 90px;
    	bottom: 62px;
    	left: 421px;
    	background-position: -600px -73px;
    }

    #feature.t1 > li:nth-child(5){
    	width: 470px;
	    height: 85px;
	    bottom: 118px;
	    left: 0px;
	    background-position: -0px -375px;
    }

    #feature.t1 > li:nth-child(4){
    	width: 236px;
	    height: 115px;
	    bottom: 22px;
	    left: 789px;
	    background-position: -790px -375px;
	}

	#feature.t1 > li:nth-child(3){
    	width: 370px;
	    height: 115px;
	    bottom: 111px;
	    left: 188px;
	    background-position: 0px -505px;
	}

	#feature.t1 > li:nth-child(2){
    	width: 300px;
	    height: 80px;
	    bottom: 96px;
	    left: 727px;
	    background-position: -543px -530px;
	}

	#feature.t1 > li:first-child{
    	width: 570px;
	    height: 95px;
	    bottom: 107px;
	    left: 454px;
	    background-position: 0px -650px;
	}

	/************************
        TYPE 2
    ************************/

    #feature.t2{
    	margin-top: 30px;
    	margin-left: 30px;
    }

    #feature.t2 > li{
    	background:url("../img/fox_txt.png") no-repeat;
    	background-size: 525px auto;
    	margin:10px;
    	float:left;
    }

    #feature.t2 > li:first-child{
    	height: 86px;
    	width: 204px;
    }

    #feature.t2 > li:nth-child(2){
    	height: 86px;
    	width: 260px;
    	background-position: -220px 0px;
    }

    #feature.t2 > li:nth-child(3){
    	height: 86px;
	    width: 335px;
	    background-position: 0px -79px;
    }

    #feature.t2 > li:nth-child(4){
    	height: 86px;
	    width: 175px;
	    background-position: -355px -79px;
	}

	#feature.t2 > li:nth-child(5){
    	height: 86px;
	    width: 285px;
	    margin-right:300px;
	    background-position: 0px -160px;
	}

	#feature.t2 > li:nth-child(6){
    	height: 86px;
	    width: 255px;
	    margin-right:600px;
	    background-position: -280px -160px;
	}

	#feature.t2 > li:nth-child(7){
    	height: 86px;
	    width: 190px;
	    margin-right:600px;
	    background-position: -30px -245px;
	}

	#feature.t2 > li:nth-child(8){
    	height: 86px;
	    width: 225px;
	    background-position: -235px -245px;
	}

	#feature.t2 > li:nth-child(9){
    	height: 86px;
	    width: 170px;
	    background-position: -185px -335px;
	}

	#feature.t2 > li:nth-child(n+10){
		position: absolute;
		background:url("../img/fox.png") no-repeat;
		background-size: 500px auto;
	}

	#feature.t2 > li:nth-child(10){
		width: 500px;
	    height: 320px;
	    background-position: 0px -340px;
	    top:auto;
	    left: auto;
	    right: -19px;
	    bottom: -85px;
	}

	#feature.t2 > li:last-child{
		width: 500px;
	    height: 245px;
	    background-position: 0px 0px;
	    top:250px;
	    left: 500px;
	}

	/************************
        TYPE 3
    ************************/
    #feature.t3{
    	width: calc(100% - 380px);
    	height: 570px;
    	margin-top:30px;
    	position: relative;
    	padding-left: 380px;
    	background: rgba(0, 0, 0, 0.1);
    }


    #feature.t3 > li{
    	background:url('../img/burger.png') no-repeat;
    	background-size: 100% auto;
    	width: 250px;
    	position: absolute;
    	margin-top:0px;

    	transition: margin-top 1s;
    	-webkit-transition: margin-top 1s;
    }

    #feature.t3 > li:first-child{
    	height: 110px;
    	background-position: 0px -420px;
    	top:428px;
    }

    #feature.t3 > li:nth-child(2){
    	height: 88px;
    	background-position: 0px -335px;
    	top:318px;
    }

    #feature.t3 > li:nth-child(3){
    	height: 100px;
    	background-position: 0px -240px;
    	top:230px;
    }

    #feature.t3 > li:nth-child(4){
    	height: 115px;
    	background-position: 0px -130px;
    	top:130px;
    }

    #feature.t3 > li:nth-child(5){
    	height: 130px;
    	background-position: 0px -0px;
    	top:0px;
    }

    #feature.t3.collapsed > li:nth-child(5){
    	margin-top:100px;
    }

    #feature.t3.collapsed > li:nth-child(4){
    	margin-top: 10px;
    }

    #feature.t3.collapsed > li:nth-child(3){
    	margin-top:-60px;
    }

    #feature.t3.collapsed > li:nth-child(2){
    	margin-top: -130px
    }

    #feature.t3.collapsed > li:first-child{
    	margin-top:-210px;
    }

    #feature.t3 > li:nth-child(n+6){
    	background: url('');
    	position: absolute;
    	padding: 20px;
    	background-color: rgba(255, 255, 255,0.8);
    	border-radius: 10px;
    	box-shadow: 5px 5px 20px 1px rgba(0, 0, 0, 0.1);
    	text-align: center;
    	font-size: 15px;

    	display: none;
    }

    #feature.t3 > li:nth-child(6){
    	top: 20px;
    	left:700px;
    }

    #feature.t3 > li:nth-child(7){
    	top: 150px;
    	left:30px;
    }

    #feature.t3 > li:nth-child(8){
    	top: 210px;
    	left:700px;
    }

    #feature.t3 > li:nth-child(9){
    	top: 300px;
    	left:30px;
    }

    #feature.t3 > li:nth-child(10){
    	top: 370px;
    	left:700px;
    }

    #feature.t3 > li:last-child{
    	display: block;
	    padding-top: 70px;
	    padding-bottom: 70px;
	    top: 115px;
	    left: 365px;

	    font-size: 25px;
	    line-height: 40px;
    }

    #feature.t3 > li:nth-child(n+6):before{
    	content:'';
    	display: block;
    	height: 30px;
    	width: 30px;
    	line-height: 20px;
    	text-align: center;
    	border-radius: 100%;
    	position: absolute;
    	background:url('../img/close.png') no-repeat;
    	background-size: 100% auto;
    	background-color: white;
    	box-shadow: 0px 0px 5px 1px black;

    	top:-10px;
    	left:auto;
    	right: -10px;

    }

    #feature.t3 > li:active{
    	margin-top:5px;
    }
</style>

</head>
<body>
    <section class="container">
        <div class="slide">
            <h1>Animation</h1>
            

            <ul id="options">
                <li class="selected">Images</li>
                <li>Typography</li>
                <li>Pop-ups</li>
            </ul>
            <ul id="feature" class="t1">
            	<li></li>
            	<li></li>
            	<li></li>
            	<li></li>
            	<li></li>
            	<li></li>
            	<li></li>
            	<li></li>
            	<li></li>
            	<li></li>
            	<li></li>
            </ul>
        </div>

        <!-- navigation toolbar 
        <ul id="navigation">
            <li data-ref="nav-block">presentation name - section 1</li>
            <!--<li data-ref="pi"></li>
            <li data-ref="ref"></li>
            <li data-ref="home"></li>
        </ul>-->
        <span data-ref="home" class="home"></span>
    </section>

<!-- Common Scripts-->
<script type="text/javascript" src="../common/js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../common/js/touchy.js"></script>
<script type="text/javascript" src="../common/js/TweenMax.min.js"></script>
<script type="text/javascript" src="../common/js/TimelineMax.min.js"></script>
<script type="text/javascript" src="../js/script.js"></script>

<!-- Page Speciic Script -->
<!--<script type="text/javascript" src="js/p1.js"></script>-->
<script type="text/javascript">
    var page = 3;

    $( function(){
    	var feature = $("#feature")[0],
    		feature_li = $(feature).find("li"),
    		options_li = $("#options > li"),
    		i0 = $(feature_li).get(0),
    		i1 = $(feature_li).get(1),
    		i2 = $(feature_li).get(2),
    		i3 = $(feature_li).get(3),
    		i4 = $(feature_li).get(4),
    		i5 = $(feature_li).get(5),
    		i6 = $(feature_li).get(6),
    		i7 = $(feature_li).get(7),
    		i8 = $(feature_li).get(8),
    		i9 = $(feature_li).get(9),
    		i10 = $(feature_li).get(10),
    		current, next, next_t, tl, idx, idx_n;

        window.onload = function () {animation()}

        function animation(){
        	 tl = new TimelineMax();
        	 current = $(feature).attr("class");

        	if(current == "t1"){
        		tl.set(feature_li, {clearProps:"all"})
        		.staggerFromTo([i0,i1,i2,i3,i4,i5,i6,i7,i8,i9], 0.5, {y:1000}, {y:0}, -0.3)
        		.fromTo(i10, 4, {opacity:0}, {opacity:1}, 4)
        		.to($("h1, h2"), 4, {color:"white"}, 4)
        	}
        	else if(current == "t2"){
        		$([i5, i6, i7, i8, i9, i10]).html('');
        		tl.set(feature_li, {clearProps:"all"})
        		.fromTo(i0, 1, {opacity:0, y:-50}, {opacity:1, y:0})
		        .fromTo(i1, 0.5, {opacity:0, x:-100, skewX:-40}, {opacity:1, x:0, skewX:0})
		        .fromTo(i2, 1, {opacity:0, width:"0px"}, {opacity:1, width:"335px"})
		        .fromTo(i3, 1, {x:-500, rotation:0, opacity:0}, {x:0, rotation:720, opacity:1})
		        .fromTo(i4, 1, {opacity:0, y:1000}, {opacity:1,  y:0})
		        .fromTo(i5, 1, {opacity:0, y:-1000}, {opacity:1,  y:0}, 3.5)
		        .fromTo(i6, 1, {scale:0}, {scale:1})
		        .fromTo(i7, 3, {x:-300}, {x:0})
		        .fromTo(i8, 1, {width:"0px"}, {width:"170px"})
		        .fromTo(i9, 1, {opacity:0}, {opacity:1}, 8.5)
		        .fromTo(i10, 1, {opacity:0, x:-500, y:100}, {opacity:1, x:0, y:0}, 8.5)
        	}
        	else if(current == "t3"){
        		tl.set(feature_li, {clearProps:"all"})
        		$(feature).addClass("collapsed");
        		$(i5).html("Things are said to be named ‘derivatively’, which derive their name from some other name, but differ from it in termination. Thus the grammarian derives his name from the word ‘grammar’, nd the courageous man from the word ‘courage’.");
        		$(i6).html("Forms of speech are either simple or composite. Examples of the latter are such expressions as ‘the man runs’, ‘the man wins’; of the former ‘man’, ‘ox’, ‘runs’, ‘wins’.");
        		$(i7).html("Of things themselves some are predicable of a subject, and are never present in a subject. Thus ‘man’ is predicable of the individual man, and is never present in a subject.");
        		$(i8).html("By being ‘present in a subject’ I do not mean present as parts are present in a whole, but being incapable of existence apart from the said subject.");
        		$(i9).html("But where one genus is subordinate to another, there is nothing to prevent their having the same differentiae: for the greater class is predicated of the lesser, so that all the differentiae of the predicate will be differentiae also of the subject.");
        		$(i10).html("Tap on the different parts for info");
        	}
        }

        $(feature_li).on('tap', function(){
        	if($(feature).hasClass("t3")){
        		idx = $(this).index();
        		if(idx < 5){
        			$($(feature_li).get(9-idx)).fadeIn();
        		} else if(idx < 10){
					$(this).fadeOut();
        		} else{
        			$(this).fadeOut();
        			$(feature).removeClass("collapsed");
        		}
        	}
        })

        $(options_li).on("tap", function(){
        	next = $(this);
        	next_t = "t" + (next.index()+1);

        	if(next_t != current){
        		$(feature).fadeOut(500).fadeIn(500)

        		setTimeout(function(){
                    tl.kill();
                    //$(feature_li).attr("style", "");
                    $(feature).attr("class", next_t);
                    
                }, 400);

        	current = next_t;
        	$(options_li).removeClass("selected");
        	$(next).addClass("selected");
        	setTimeout(function(){animation()}, 500);

        	}
    	});
    })

</script>
</body>
</html>
